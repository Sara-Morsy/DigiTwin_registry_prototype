---
const base = import.meta.env.BASE_URL || "/";

const links = [
  { href: base, label: "Home" },
  { href: base + "explore/", label: "Explore the database" },
  { href: base + "what-is/", label: "What is DigiTwin?" },
  { href: base + "register/", label: "Register your Digital Twin" },
  { href: base + "schema/", label: "Schema for DigitalTwin" },
];

// detect current path for simple active styling
const currentPath = Astro.url?.pathname ?? "/";
const isActive = (href) => {
  const normalize = (p) => (p.endsWith("/") ? p : p + "/");
  return normalize(currentPath) === normalize(new URL(href, "http://x").pathname);
};
---

<header class="z-20 relative">
  <div class="mx-auto max-w-6xl px-6 py-4 flex items-center justify-between">
    <!-- logo -->
    <a href={base} class="flex items-center gap-2">
      <img
        src={base + "digitwin-logo.png"}
        alt="DigiTwin logo"
        class="h-7 w-auto"
      />
      <span class="sr-only">DigiTwin</span>
    </a>

    <!-- desktop nav -->
    <nav class="hidden sm:flex items-center gap-6 text-sm text-slate-700">
      {links.map((l) => (
        <a
          href={l.href}
          class={`hover:text-black ${
            isActive(l.href)
              ? "font-semibold text-black underline underline-offset-4"
              : ""
          }`}
          aria-current={isActive(l.href) ? "page" : undefined}
        >
          {l.label}
        </a>
      ))}
    </nav>
  </div>
</header>

