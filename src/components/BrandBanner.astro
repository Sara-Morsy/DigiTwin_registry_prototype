---
/**
 * BrandBanner.astro â€” full-width logo band
 *
 * Props:
 *  - src       (string)  : image path (default: /digitwin-logo.png from /public)
 *  - alt       (string)  : accessible alt text
 *  - href      (string?) : wrap the logo in a link (optional)
 *  - caption   (string?) : small text under the logo (optional)
 *  - compact   (boolean) : less vertical padding (default: true)
 *  - size      ("xs"|"sm"|"md"|"lg"|"xl"): logo width preset (default: "md")
 *  - bg        (string)  : background classes (default: "bg-white")
 *  - maxW      (string)  : container width (default: "max-w-6xl")
 *  - className (string)  : extra classes merged on the <img>
 *  - divider   (boolean) : add a subtle top border (default: false)
 */

const base = import.meta.env.BASE_URL || "/";

const {
  src = base + "digitwin-logo.png",
  alt = "DigiTWIN logo",
  href = "",
  caption = "",
  compact = true,
  size = "md",
  bg = "bg-white",
  maxW = "max-w-6xl",
  className = "",
  divider = false,
} = Astro.props;

const pad = compact ? "py-6" : "py-12 lg:py-16";

const sizeMap = {
  xs: "w-32 sm:w-40",
  sm: "w-44 sm:w-56 lg:w-64",
  md: "w-56 sm:w-64 lg:w-72",
  lg: "w-64 sm:w-80 lg:w-[28rem]",
  xl: "w-72 sm:w-[28rem] lg:w-[36rem]",
};

const imgClasses = `${sizeMap[size] ?? sizeMap.md} h-auto max-w-full${className ? ` ${className}` : ""}`;
---

<section class={`${bg} ${divider ? "border-t border-slate-200" : ""}`}>
  <div class={`mx-auto ${maxW} px-6 ${pad} flex flex-col items-center text-center`}>
    {href ? (
      <a href={href} class="inline-block" aria-label={alt}>
        <img src={src} alt={alt} class={imgClasses} loading="eager" decoding="async" />
      </a>
    ) : (
      <img src={src} alt={alt} class={imgClasses} loading="eager" decoding="async" />
    )}

    {caption && <p class="mt-2 text-sm text-slate-500">{caption}</p>}
  </div>
</section>
